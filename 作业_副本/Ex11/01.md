## (a)按日期（year, month, day）去重，保留**最后一条**重复记录
```r
ex01DedupTable <- function(table) {
  # your code
  # 检查参数
  assertDataTable(table)
  unique(table, by = c("year", "month", "day"), fromLast = TRUE)
}
```
* **unique(table, by, fromLast = TRUE):**
	* table: 输入数据
	* by = c("year", "month", "day"): 根据这三列判断重复
	* fromLast = TRUE: 从后往前看，保留最后一条


## (b)
##### 目标: 每个参与者可能提交多次问卷，需要合并成一条记录，每个字段取**最近一次非 NA** 的值
```r
ex02LastResponse <- function(response) {
  # your code
  assertDataTable(response)
  response[order(submission.date),  #按提交日期排序(升序)
    lapply(.SD, function(x) last(na.omit(x))), by = name][,#按name分组
      submission.date := NULL][]  #删除 submission.date 列
}
```
* **na.omit():** 移除数据中的 **NA** 值，对于 **df** 和 **db**，删除任何列含 **NA** 的整行
	* z.B: x <- c(1, NA, 3, NA, 5) **=>** na.omit(x) **=>** 1 3 5
* **last():** 取最后一个元素，所以要先按时间排序，确保"最后"就是"最近"
* **.SD**: 当没有指定 `.SDcols` 时，`.SD` 包含**除分组列以外的所有列**
	* 这里 `by = name`，所以：`.SD` = 除 name 以外的所有列


## (c)判断每个员工是否有下属 (即是否出现在别人的 superior 列中）
```r
ex03OrgHasInf <- function(org) {
  # your code
  assertDataTable(org)
  org[, has.inferior := name %in% org$superior][]
}
```
* **org$superior:** 所有人的上级列表
* **name %in% org$superior:** 检查每个人是否出现在上级列表中
* **:=** 添加新列
* **`[]`**: 强制返回结果
```r
# 检查每个 name 是否在 superior 中出现：
"Gottfried Ofers" %in% org$superior         # TRUE （有人的上级是他）
"Kunigunde von Lauerberg" %in% org$superior # FALSE（没人的上级是她）
"Agata Weyen" %in% org$superior             # FALSE（没人的上级是她）
"Kaspar Vinken" %in% org$superior           # TRUE （Agata 的上级是他）
```