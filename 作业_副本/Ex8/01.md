## (a)初始化项目结构
##### 任务要求
* **创建以下目录结构：**
```r
ex_project/              # 项目根目录
├── code/               # 代码文件
├── data/               # 数据文件
│   ├── raw/           # 原始数据
│   └── intermediate/  # 中间处理数据
├── plots/             # 图表输出
└── assets/            # 已存在，存放报告图片和引用
```
* **文件分类与移动**
	* **代码文件** → `code/` 目录
	* **原始数据** → `data/raw/` 目录
		* `stations.txt`
		- `wind_raw.xz`
		- `PowerGen.zip`
	- **中间数据** → `data/intermediate/` 目录
		- 由代码生成的数据（初始为空）
	- **图表** → `plots/` 目录
		- 生成的图片（初始为空）
- **处理空目录** (**Git 不跟踪空目录**，需要添加占位文件：)
	- 推荐方法：创建 **`.gitkeep`** 文件
	- 步骤：
		- RStudio 文件浏览器
		- 点击 "New Blank File" 
		- 选择 "Text File"
		- 文件名输入：.gitkeep
		- 保存到空目录中
	- 查看隐藏文件：RStudio 文件浏览器 → More → Show Hidden Files
	- **需要 `.gitkeep` 的目录：**
		- `data/intermediate/` （初始为空）
		- `plots/` （初始为空）


## (b)创建辅助脚本文件
##### 任务 1：创建 `settings.R`
* **位置：** 项目根目录 `ex_project/settings.R`
* **目的：** 集中管理全局设置，方便修改
```r
# ===== settings.R =====

# 1. 路径设置
path.raw <- "data/raw"
path.intermediate <- "data/intermediate"

# 2. 文件路径（相对于项目根目录）
file.stations <- "data/raw/stations.txt"
file.measure <- "data/raw/wind_raw.xz"
file.power <- "data/raw/PowerGen.zip"

# 3. 经纬度分箱（binning）
bins.long <- c(6, 8, 10, 12, 14)   # 经度bins
bins.lat <- c(47, 49, 51, 53, 55)  # 纬度bins

# 4. 日期设置（Date对象）
end.date.max <- as.Date("2023-11-01")        # 最大结束日期
start.date.min <- as.Date("2022-05-25")      # 最小开始日期
start.date.train <- as.Date("2022-06-01")    # 训练数据开始
end.date.train <- as.Date("2023-06-01")      # 训练数据结束
start.date.predict <- as.Date("2023-10-01")  # 预测数据开始
end.date.predict <- as.Date("2023-10-06")    # 预测数据结束

# 5. 加载库
library(checkmate)  # 所有R文件都需要用到

# 6. 设置ggplot主题
theme_set(theme_minimal())
```

##### 任务 2：创建 `source_all.R`
* **位置：** 项目根目录 `ex_project/source_all.R`
* **目的：** 一键加载所有必要的脚本
```r
# ===== source_all.R =====

# 1. 加载 settings.R
source("settings.R")

# 2. 自动检测并加载 code/ 目录下的所有 .R 文件
# （不要硬编码文件名）

# 方法1：使用 list.files() + sapply()
code_files <- list.files(
  path = "code",           # 在哪个目录查找
  pattern = "\\.R$",       # 正则表达式：以 .R 结尾的文件
  full.names = TRUE        # 返回完整路径
)
sapply(code_files, source)
```
* **`pattern = "\\.R$"` 解释**
	* `\\.` = 匹配字面意义的点 .
	* `R` = 字母 R
	* `$` = 字符串结尾
* **`sapply(X, FUN)` 的作用:** 对向量中每个元素应用函数