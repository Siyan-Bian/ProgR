## 面向对象编程 (OOP) 基础
##### **核心概念**
- **对象 (Objects)**：代表一种状态或数据的集合（如线性模型 `lm`、数据框 `data.frame`） 
- **方法 (Methods)**：可以对对象执行的操作，通常通过调用函数来实现

##### **编程范式对比**
- **过程式编程 (Procedural)**：将代码组织为函数 
- **函数式编程 (Functional)**：函数作为变量，强调无副作用（Side effects） 
- **OOP**：将函数（方法）与它们处理的数据（对象）组合在一起 
- **R 的特性**：R 同时支持上述多种范式，是一种多范式语言


## R 中的 OOP 系统概览
**R 支持多种 OOP 系统，主要区别在于语义（拷贝 vs 引用）和结构（非正式 vs 正式）**
##### S3
- 基于**拷贝语义 (Copy Semantics)** 
- 结构非常非正式（Informal）且隐式

##### R6（外部包）
- 基于**引用语义 (Reference Semantics)** 
- 具有正式/显式的类结构，但无类型检查

##### S4 & R7
- 正式结构并带有类型检查 
- S4 支持多重继承和多重分派


## S3 系统知识点
##### 属性 (Attributes)
- 对象附带的额外信息（如 `names`、`dim`、`class`） 
- 使用 `attr(obj, name)` 或 `attributes(obj)$name` 访问

##### 创建 S3 对象
- 通过设置 `class` 属性创建 
- **构造函数**示例：`<ClsName> <- function(..) { structure(list(..), class = "<ClsName>") }`

##### 泛型函数与方法 (Generic & Methods)
- **泛型函数**：定义为 `<fname> <- function(...) UseMethod("<fname>")` 
- **S3 方法**：命名规则为 `<泛型名>.<类名>`，如 `print.myclass` 
- **继承**：通过 `class` 属性向量中的多个条目实现，子类在前，父类在后 。使用 `NextMethod()` 调用父类方法


## R6 系统知识点
##### **定义类**：使用 `R6Class()` 函数
- **构造器 (Constructor)**：`R6Class` 返回的对象（通常大写首字母，如 `Cat`），用于生成实例 。
- **实例化**：通过 `<构造器>$new()` 创建

##### 成员与访问控制
- **公共 (public)**：外部可访问的字段和方法 
- **私有 (private)**：仅内部通过 `private$` 访问 
- **主动绑定 (active)**：看起来像字段的函数

##### 引用语义 (Reference Semantics)
- **行为**：修改一个变量会影响所有引用该对象的副本 
- **克隆**：使用 `$clone()`。`deep = TRUE` 创建深拷贝（推荐），否则为浅拷贝 
- **比较**：`identical(obj1, obj2)` 检查是否为内存中同一个对象

##### 特殊方法与变量
- `$initialize()`：实例化时自动执行 
- `self`：引用当前对象 
- `super`：在方法中引用父类

##### 继承
* 通过 `inherit = <superclass>` 参数定义